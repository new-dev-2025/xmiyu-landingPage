(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();const f="https://tf.manager.kyhalan.vip/api/v1/get_appInfo",g="https://tf.manager.kyhalan.vip/api/v1/get_tfLink",p="https://tf.manager.kyhalan.vip/api/v1/update_tfLink",a={urls:{testflight:"https://testflight.apple.com/join/PKas1Kgd",androidApk:"https://github.com/payu-intrepos/Android-SDK-Sample-App/raw/main/SampleApp.apk",alternateDownload:"https://d11scqmct6emw5.cloudfront.net/gglqsonp6islj1",testflightAppStore:"https://apps.apple.com/app/testflight/id899247664"}};let l=null,i=null;function d(){return"user_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}function h(){let t=localStorage.getItem("gg_user_id");return t||(t=d(),localStorage.setItem("gg_user_id",t),console.log("Generated new user ID:",t)),t}async function T(){const t=h();try{console.log("Requesting TestFlight link for user:",t);const e=await fetch(`${g}?user_id=${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const n=await e.json();return console.log("TestFlight link response:",n),n.link&&await m(t),n.link}catch(e){return console.error("Failed to get TestFlight link:",e),a.urls.testflight}}async function m(t){try{console.log("Updating TestFlight link status for user:",t);const e=await fetch(p,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t})});e.ok?console.log("TestFlight link status updated successfully"):console.warn("Failed to update TestFlight link status:",e.status)}catch(e){console.error("Error updating TestFlight link status:",e)}}async function u(){return l||i||(i=(async()=>{try{console.log("Fetching configuration from API...");const t=await fetch(f);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const n=(await t.json())[0],s={urls:{testflight:n.TF_url||a.urls.testflight,androidApk:n.apk_url,alternateDownload:n.alternate_url,testflightAppStore:n.TF_url}};return l=s,console.log("Configuration loaded from API:",s),s}catch(t){return console.warn("Failed to load config from API, using defaults:",t),l=a,a}finally{i=null}})(),i)}let y=a;const F=u;u().then(t=>{Object.assign(y,t)});const _={width:200,height:200,color:{dark:"#000000",light:"#FFFFFF"}};export{T as a,y as c,F as g,_ as q};
